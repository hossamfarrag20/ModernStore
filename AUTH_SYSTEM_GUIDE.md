# ๐ ูุธุงู ุงููุตุงุฏูุฉ ูุงูุชูููุถ - ModernStore

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ูุตุงุฏูุฉ ูุชูููุถ ูุชูุงูู ูุฏุนู:

- โ **ูุนุฑู ูุฑูุฏ ููู ูุณุชุฎุฏู** (Unique User ID)
- โ **ุณูุฉ ุชุณูู ูููุตูุฉ ููู ูุณุชุฎุฏู** (User-specific Cart)
- โ **ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช** (Authentication & Authorization)
- โ **ุญูุงูุฉ ุงูุจูุงูุงุช** (Data Isolation)
- โ **ููุน ุชูุฑุงุฑ ุงูุจูุงูุงุช** (Duplicate Prevention)

## ๐ ูุธุงู ุงููุนุฑู ุงููุฑูุฏ

### ููู ูุนููุ

```javascript
// ูุซุงู ุนูู ุชูููุฏ ID ูุฑูุฏ
const uniqueId = parseInt(`${newUser.id}${Date.now().toString().slice(-3)}`);
// ุงููุชูุฌุฉ: 11123 (11 ูู API + 123 ูู timestamp)
```

### ุงูููุงุฆุฏ:

- ูู ูุณุชุฎุฏู ูู ูุนุฑู ูุฑูุฏ ุญุชู ูู ุณุฌู ูู ููุณ ุงูููุช
- ุณูููุฉ ุฑุจุท ุงูุณูุฉ ุจุงููุณุชุฎุฏู
- ุชุชุจุน ุฃูุถู ูููุณุชุฎุฏููู

## ๐ ูุธุงู ุงูุณูุฉ ุงููููุตู

### ููุงุชูุญ ุงูุชุฎุฒูู:

- **ุงููุณุชุฎุฏููู ุงููุณุฌููู**: `cart_user_[USER_ID]`
- **ุงูุถููู**: `cart`

### ูุซุงู:

```javascript
// ูุณุชุฎุฏู ุจู ID = 11123
localStorage.setItem("cart_user_11123", JSON.stringify(cartItems));

// ุถูู
localStorage.setItem("cart", JSON.stringify(cartItems));
```

## ๐ ุงูุชุณุฌูู ูุงูุฏุฎูู

### ุงูุชุณุฌูู:

1. **ุงูุชุญูู ูู ุงูุจูุงูุงุช**:

   - ุงุณู ุงููุณุชุฎุฏู ูุฑูุฏ
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุฑูุฏ
   - ูููุฉ ูุฑูุฑ ูููุฉ

2. **ุฅุฑุณุงู ููู API**:

   ```bash
   POST https://fakestoreapi.com/users
   {
     "username": "hossamfarrag040",
     "email": "hossamfarrag040@gmail.com",
     "password": "Wessam@22"
   }
   ```

3. **ุญูุธ ูุญูู**:
   ```javascript
   userRegistry[username] = {
     id: uniqueId,
     username: username,
     email: email,
     password: password, // ูุดูุฑ ูู ุงูุชุทุจูู ุงูุญูููู
     createdAt: new Date().toISOString(),
   };
   ```

### ุชุณุฌูู ุงูุฏุฎูู:

1. **ุงูุชุญูู ุงููุญูู ุฃููุงู** (ูููุณุชุฎุฏููู ุงููุณุฌููู)
2. **ุงูุชุญูู ูู FakeStore API** (ูููุณุชุฎุฏููู ุงูุชุฌุฑูุจููู)
3. **ุฅูุดุงุก ุฌูุณุฉ** ูุน token ูุฑูุฏ

## ๐ ุงูุญูุงูุฉ ูุงูุชูููุถ

### ุญูุงูุฉ ุงูุจูุงูุงุช:

- ูู ูุณุชุฎุฏู ูุฑู ุณูุชู ููุท
- ููุน ุงููุตูู ูุจูุงูุงุช ุงููุณุชุฎุฏููู ุงูุขุฎุฑูู
- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ (ูู ุงูุชุทุจูู ุงูุญูููู)

### ุงูุชูููุถ:

- ุตูุญุฉ `/users` ูุญููุฉ (ุชุญุชุงุฌ ุชุณุฌูู ุฏุฎูู)
- ุงูุณูุฉ ูุฑุชุจุทุฉ ุจุงููุณุชุฎุฏู
- ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ:

```bash
# ุงุฐูุจ ุฅูู /register
# ุฃุฏุฎู ุงูุจูุงูุงุช:
Username: hossamfarrag040
Email: hossamfarrag040@gmail.com
Password: Wessam@22
```

### 2. ุชุณุฌูู ุงูุฏุฎูู:

```bash
# ุงุฐูุจ ุฅูู /login
# ุงุณุชุฎุฏู ุงูุจูุงูุงุช ุงููุณุฌูุฉ ุฃู ุงูุญุณุงุจุงุช ุงูุชุฌุฑูุจูุฉ:
Username: johnd
Password: m38rmF$
```

### 3. ุงุฎุชุจุงุฑ ุงูุณูุฉ:

```bash
# ุฃุถู ููุชุฌุงุช ููุณูุฉ
# ุณุฌู ุฎุฑูุฌ โ ุงูุณูุฉ ุชุฎุชูู
# ุณุฌู ุฏุฎูู โ ุงูุณูุฉ ุชุนูุฏ
```

### 4. ุนุฑุถ ุงููุณุชุฎุฏููู:

```bash
# ุงุฐูุจ ุฅูู /users (ูุญุชุงุฌ ุชุณุฌูู ุฏุฎูู)
# ุดุงูุฏ ุฌููุน ุงููุณุชุฎุฏููู ุงููุณุฌููู
```

### 5. ุงุฎุชุจุงุฑ Cart API:

```bash
# ุงุฐูุจ ุฅูู /test-cart (ูุญุชุงุฌ ุชุณุฌูู ุฏุฎูู)
# ุงุฎุชุจุฑ ุชุญููู ุงูุณูุฉ ูู API
# ุงุฎุชุจุฑ ุฅูุดุงุก ุณูุฉ ุฌุฏูุฏุฉ
# ุงุฎุชุจุฑ ุณูุงู ุงููุณุชุฎุฏููู ุงูุชุฌุฑูุจููู
```

## ๐ ุงูุจูุงูุงุช ุงููุญููุธุฉ

### localStorage Keys:

```javascript
{
  "userRegistry": {
    "hossamfarrag040": {
      "id": 11123,
      "username": "hossamfarrag040",
      "email": "hossamfarrag040@gmail.com",
      "password": "Wessam@22",
      "createdAt": "2024-01-15T10:30:00.000Z"
    }
  },
  "user": { /* ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุญุงูู */ },
  "token": "auth_token_11123_1705312200000",
  "cart_user_11123": [ /* ุณูุฉ ุงููุณุชุฎุฏู */ ],
  "cart": [ /* ุณูุฉ ุงูุถููู */ ]
}
```

## ๐ง ุงููููุงุช ุงููุญุฏุซุฉ

### ุงููููุงุช ุงูุฑุฆูุณูุฉ:

- `src/contexts/AuthContext.tsx` - ูุธุงู ุงููุตุงุฏูุฉ
- `src/contexts/CartContext.tsx` - ูุธุงู ุงูุณูุฉ
- `src/components/RegisterPage.tsx` - ุงูุชุญูู ูู ุงูุจูุงูุงุช
- `src/components/UsersPage.tsx` - ุนุฑุถ ุงููุณุชุฎุฏููู
- `src/components/Header.tsx` - ูุงุฆูุฉ ุงููุณุชุฎุฏู

### ุงูููุฒุงุช ุงููุถุงูุฉ:

- ุชูููุฏ ID ูุฑูุฏ
- ุญูุธ ูุญูู ูููุณุชุฎุฏููู
- ุณูุฉ ูููุตูุฉ ููู ูุณุชุฎุฏู
- ุงูุชุญูู ูู ุชูุฑุงุฑ ุงูุจูุงูุงุช
- ุตูุญุฉ ุนุฑุถ ุงููุณุชุฎุฏููู

## ๐ ุงูุงุณุชุฎุฏุงู

1. **ุณุฌู ุญุณุงุจ ุฌุฏูุฏ** ุจุงูุจูุงูุงุช ุงูุชู ุชุฑูุฏูุง
2. **ุฃุถู ููุชุฌุงุช ููุณูุฉ** - ุณุชูุญูุธ ุจุงุณูู
3. **ุณุฌู ุฎุฑูุฌ ูุฏุฎูู** - ุงูุณูุฉ ุณุชุจูู ููุฌูุฏุฉ
4. **ุงุฐูุจ ูู `/users`** ูุฑุคูุฉ ุฌููุน ุงููุณุชุฎุฏููู
5. **ุงุฎุชุจุฑ ูุน ูุณุชุฎุฏููู ูุชุนุฏุฏูู** - ูู ูุงุญุฏ ูู ุณูุฉ ูููุตูุฉ

## ๐ ุณููู ุงูุณูุฉ ุงูุฌุฏูุฏ

### ุนูุฏ ุชุณุฌูู ุงูุฎุฑูุฌ (Sign Out):

1. **ุชูุฑูุบ ุงูุณูุฉ ููุฑุงู** - `setCartItems([])`
2. **ุฅุฎูุงุก ุนุฏุฏ ุงูููุชุฌุงุช** ูู ุงูู Header
3. **ุชุญููู ุณูุฉ ุงูุถููู** ูู localStorage (ุฅู ูุฌุฏุช)

### ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู (Sign In):

1. **ุชุญููู ุงูุณูุฉ ูู API** ุฃููุงู ุจุงุณุชุฎุฏุงู `getUserCart(userId)`
2. **ุฅุฐุง ูู ุชูุฌุฏ ูู API** โ ุชุญููู ูู localStorage
3. **ุฅุฐุง ูู ุชูุฌุฏ ูุญููุงู** โ ุจุฏุก ุจุณูุฉ ูุงุฑุบุฉ
4. **ุนุฑุถ ุงูุณูุฉ ุงูุฎุงุตุฉ ุจุงููุณุชุฎุฏู** ููุฑุงู

### ูุซุงู ุนูู ุงูุชุฏูู:

```javascript
// ุงููุณุชุฎุฏู A ูุณุฌู ุฏุฎูู
login() โ loadUserCart(userA.id) โ ุนุฑุถ ุณูุฉ ุงููุณุชุฎุฏู A

// ุงููุณุชุฎุฏู A ูุณุฌู ุฎุฑูุฌ
logout() โ clearCart() โ ุนุฑุถ ุณูุฉ ูุงุฑุบุฉ

// ุงููุณุชุฎุฏู B ูุณุฌู ุฏุฎูู
login() โ loadUserCart(userB.id) โ ุนุฑุถ ุณูุฉ ุงููุณุชุฎุฏู B
```

## ๐ฏ ุงูููุฒุงุช ุงููุญููุฉ

โ **ูุนุฑู ูุฑูุฏ ููู ูุณุชุฎุฏู**
โ **ุณูุฉ ูููุตูุฉ ููู ูุณุชุฎุฏู**
โ **ุชูุฑูุบ ุงูุณูุฉ ุนูุฏ ุชุณุฌูู ุงูุฎุฑูุฌ**
โ **ุชุญููู ุงูุณูุฉ ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู**
โ **ุงุณุชุฎุฏุงู FakeStore API ูููุตุงุฏูุฉ**
โ **ุตูุญุฉ ุงุฎุชุจุงุฑ Cart API**

---

**ุงููุชูุฌุฉ**: ูุธุงู ูุตุงุฏูุฉ ูุชูููุถ ูุชูุงูู ูุน ุฅุฏุงุฑุฉ ุณูุฉ ุฐููุฉ ูุญูุงูุฉ ุงูุจูุงูุงุช! ๐
